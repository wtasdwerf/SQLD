# 데이터 모델링의 이해

## 데이터 모델링의 중요성 및 유의점

중복 = 같은 시간 같은 데이터 제공

비유연성 = 사소한 업무 변화에 데이터 모델이 수시로 변경되면 안됨, 데이터 정의를 사용 프로세스와 분리

비일관성 = 데이터간 상호 연관 관계에 대해 명확히 정의해야함

## 데이터 모델링

개념적, 논리적, 물리적 데이터 모델링

## 데이터 독립성 요소

외부 스키마

개개 사용자가 보는 개인적 DB 스키마

개념 스키마

모든 사용자 관점을 통합한 전체 DB

내부 스키마

물리적 장치에서 데이터가 실제적 저장

## 데이터 독립성

논리적 독립성 = 개념 스키마 변경, 외부 스키마에 영향 X

물리적 독립성 = 내부 스키마 변경, 외부/개념스키마에 영향 X

## mapping(사상)

상호 독립적인 개념을 연결시켜주는 다리 

논리적 사상

외부 스키마 - 개념 스키마 

물리적 사상

개념 스키마 - 내부 스키마

## 모델링의 특징

현실세계 - > 추상화 / 단순화 / 정확화 -> 모델 

## 데이터 모델 표기법

1976년 피터첸이 Enity Relationship Model 개발

IE, Baker 기법 많이 쓰임

엔터티, 관계,  속성으로 이뤄짐

## ERD 작업 순서

1. 엔터티 그림
2. 엔터티 배치
3. 엔터티 관계설정
4. 관계명 기술
5. 관계의 참여도 기술
6. 관계 필수여부

## 좋은 데이터 모델의 요소

1. 완전성 = 업무에 필요한 모든 데이터가 모델에 정의
2. 중복규제 = 하나의 DB 내에 동일한 사실은 한번만
3. 업무규칙 = 많은 규칙을 사용자가 공유하도록 제공
4. 데이터 재사용 = 데이터가 독립적으로 설계돼야함
5. 의사소통 = 업무규칙은 엔터티, 서브타입, 속성, 관계 등의 형태로 최대한 자세히 표현
6. 통합성 = 동일한 데이터는 한번만 정의, 참조 활용

## 엔터티

업무에 필요하고 유용한 정보를 저장하고 관리하기위한 집합적인 것

보이지 않은 개념 포함

## 엔터티의 특징

1. 반드시 해당 업무에서 필요하고 관리하고자 함
2. 유일한 식별자에 의해 식별 가능
3. 두개 이상의 인스턴스의 집합
4. 업무 프로세스에 의해 이용되어야 함
5. 반드시 속성이 있어야 함
6. 다른 엔터티와 최소 1개 이상의 관계가 있어야 함 (통계성 / 코드성 엔터티는 관계 생략 가능)

## 엔터티의 분류

### 유무형에 따른 분류 = 유형, 개념, 사건 엔터티

유형 = 물리적 형태 (사원, 물품, 강사)

개념 = 개념적 정보 (조직, 보험 상품)

사건 = 업무 수행시 발생 ( 주문 , 청구, 미납)

### 발생시점에 따른 분류 = 기본/키, 중심, 행위 엔터티

기본 = 그 업무에 원래 존재하는 정보, 타 엔터티의 부모 역할, 자신의 고유한 주 식별자 가짐 (사원 ,부서)

중심 = 기본 엔터티로부터 발생, 다른 엔터티와의 관계로 많은 행위 엔터티 생성 ( 계약, 사고, 주문 )

행위 = 2개 이상의 부모 엔터티로부터 발생, 자주 바뀌거나 양이 증가 (주문 목록, 사원 변경 이력)

## 엔터티의 명명

현업 업무에서 사용하는 용어 사용, 약어 사용 금지, 단수 명사 사용, 고유한 이름 사용, 생성 의미대로 부여

## 속성

업무에서 필요로하는 인스턴스로 관리하고자 하는 의미상 분리되지 않는 최소의 데이터 단위

한개의 엔터티는 2개 이상의 인스턴스 집합

한개의 엔터티는 2개 이상의 속성을 가짐

한개의 속성은 1개의 속성값을 가짐

## 구성 방식의 분류

PK, FK, 일반 속성

## 속성의 분류

기본, 설계, 파생 속성

기본 = 업무로부터 추출한 모든 일반적인 속성

설계 = 업무를 규칙화 하기 위해 새로 만들거나 변경, 정의하는 속성 (일련번호)

파생 = 다른 속성에 영향을 받아 발생하는 속성, 빠른 성능을 낼 수 있도록 원래 속성의 값을 계산, 적을수록 좋음 (합)

## 도메인

속성에 대한 데이터 타입, 크기, 제약사항 지정

## 속성의 명명

1. 해당 업무에서 사용하는 이름 부여
2. 서술식 속성명은 사용 금지
3. 약어 사용 금지
4. 구체적으로 명명하여 데이터 모델에서 유일성 확보

## 관계

엔터티의 인스턴스 사이의 논리적인 연관성으로서 존재의 형태로서나 행위로서 서로에게 연관성이 부여된 상태, 관계 페어링의 집합

ex. 강사 - 가르친다 (관계) - 수강생

## 페어링

엔터티 안에 인스턴스가 개별적으로 관계를 가지는 것

## UML (통합모델링언어) 에서의 관계

연관관계(실선) : 항상 이용하는 관계 (소속된다)

의존관계(점선) : 상대 행위에 의해 발생하는 관계 (주문한다)

## 관계의 표기법

관계명 = 관계의 이름

관계 차수 = 1:1, 1:M, M:N

관계 선택성(관계선택사양) = 필수 관계, 선택 관계

## 관계 체크 사항

1. 2개의 엔터티 사이에 관심있는 연관 규칙 있나?
2. 2개의 엔터티 사이에 정보의 조합 발생 하나?
3. 업무 기술서, 장표에 관계 연결에 대한 규칙 서술 있나?
4. 업무 기술서, 장표에 관계 연결을 가능케하는 동사가 있나?